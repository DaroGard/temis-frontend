var q=s=>{throw TypeError(s)};var F=(s,e,t)=>e.has(s)||q("Cannot "+t);var l=(s,e,t)=>(F(s,e,"read from private field"),t?t.call(s):e.get(s)),k=(s,e,t)=>e.has(s)?q("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),R=(s,e,t,r)=>(F(s,e,"write to private field"),r?r.call(s,t):e.set(s,t),t),O=(s,e,t)=>(F(s,e,"access private method"),t);import{S as Z,s as J,h as A,a as ee,n as G,b as te,r as a,d as se,e as re,j as i,u as oe,f as ie}from"./main-6B-1zRlq.js";import{u as ne,a as ae,o as le,s as H}from"./schemas-BoYlKKX8.js";import{M as ce,i as de,u as Q,P as ue,a as he,b as me,L as pe,m as L}from"./proxy-CopQ_BEO.js";import{B as fe}from"./BackButton-m3CwFEiG.js";var E,M,f,C,j,I,T,_,ge=(_=class extends Z{constructor(e,t){super();k(this,j);k(this,E);k(this,M);k(this,f);k(this,C);R(this,E,e),this.setOptions(t),this.bindMethods(),O(this,j,I).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var r;const t=this.options;this.options=l(this,E).defaultMutationOptions(e),J(this.options,t)||l(this,E).getMutationCache().notify({type:"observerOptionsUpdated",mutation:l(this,f),observer:this}),t!=null&&t.mutationKey&&this.options.mutationKey&&A(t.mutationKey)!==A(this.options.mutationKey)?this.reset():((r=l(this,f))==null?void 0:r.state.status)==="pending"&&l(this,f).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=l(this,f))==null||e.removeObserver(this)}onMutationUpdate(e){O(this,j,I).call(this),O(this,j,T).call(this,e)}getCurrentResult(){return l(this,M)}reset(){var e;(e=l(this,f))==null||e.removeObserver(this),R(this,f,void 0),O(this,j,I).call(this),O(this,j,T).call(this)}mutate(e,t){var r;return R(this,C,t),(r=l(this,f))==null||r.removeObserver(this),R(this,f,l(this,E).getMutationCache().build(l(this,E),this.options)),l(this,f).addObserver(this),l(this,f).execute(e)}},E=new WeakMap,M=new WeakMap,f=new WeakMap,C=new WeakMap,j=new WeakSet,I=function(){var t;const e=((t=l(this,f))==null?void 0:t.state)??ee();R(this,M,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},T=function(e){G.batch(()=>{var t,r,o,n,u,g,m,c;if(l(this,C)&&this.hasListeners()){const h=l(this,M).variables,d=l(this,M).context;(e==null?void 0:e.type)==="success"?((r=(t=l(this,C)).onSuccess)==null||r.call(t,e.data,h,d),(n=(o=l(this,C)).onSettled)==null||n.call(o,e.data,null,h,d)):(e==null?void 0:e.type)==="error"&&((g=(u=l(this,C)).onError)==null||g.call(u,e.error,h,d),(c=(m=l(this,C)).onSettled)==null||c.call(m,void 0,e.error,h,d))}this.listeners.forEach(h=>{h(l(this,M))})})},_);function xe(s,e){const t=te(),[r]=a.useState(()=>new ge(t,s));a.useEffect(()=>{r.setOptions(s)},[r,s]);const o=a.useSyncExternalStore(a.useCallback(u=>r.subscribe(G.batchCalls(u)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),n=a.useCallback((u,g)=>{r.mutate(u,g).catch(se)},[r]);if(o.error&&re(r.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:n,mutateAsync:o.mutate}}class be extends a.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,o=de(r)&&r.offsetWidth||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=o-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ye({children:s,isPresent:e,anchorX:t,root:r}){const o=a.useId(),n=a.useRef(null),u=a.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:g}=a.useContext(ce);return a.useInsertionEffect(()=>{const{width:m,height:c,top:h,left:d,right:b}=u.current;if(e||!n.current||!m||!c)return;const y=t==="left"?`left: ${d}`:`right: ${b}`;n.current.dataset.motionPopId=o;const x=document.createElement("style");g&&(x.nonce=g);const v=r??document.head;return v.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${c}px !important;
            ${y}px !important;
            top: ${h}px !important;
          }
        `),()=>{v.contains(x)&&v.removeChild(x)}},[e]),i.jsx(be,{isPresent:e,childRef:n,sizeRef:u,children:a.cloneElement(s,{ref:n})})}const ve=({children:s,initial:e,isPresent:t,onExitComplete:r,custom:o,presenceAffectsLayout:n,mode:u,anchorX:g,root:m})=>{const c=Q(we),h=a.useId();let d=!0,b=a.useMemo(()=>(d=!1,{id:h,initial:e,isPresent:t,custom:o,onExitComplete:y=>{c.set(y,!0);for(const x of c.values())if(!x)return;r&&r()},register:y=>(c.set(y,!1),()=>c.delete(y))}),[t,c,r]);return n&&d&&(b={...b}),a.useMemo(()=>{c.forEach((y,x)=>c.set(x,!1))},[t]),a.useEffect(()=>{!t&&!c.size&&r&&r()},[t]),u==="popLayout"&&(s=i.jsx(ye,{isPresent:t,anchorX:g,root:m,children:s})),i.jsx(ue.Provider,{value:b,children:s})};function we(){return new Map}const P=s=>s.key||"";function W(s){const e=[];return a.Children.forEach(s,t=>{a.isValidElement(t)&&e.push(t)}),e}const B=({children:s,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:n="sync",propagate:u=!1,anchorX:g="left",root:m})=>{const[c,h]=he(u),d=a.useMemo(()=>W(s),[s]),b=u&&!c?[]:d.map(P),y=a.useRef(!0),x=a.useRef(d),v=Q(()=>new Map),[V,X]=a.useState(d),[N,U]=a.useState(d);me(()=>{y.current=!1,x.current=d;for(let w=0;w<N.length;w++){const p=P(N[w]);b.includes(p)?v.delete(p):v.get(p)!==!0&&v.set(p,!1)}},[N,b.length,b.join("-")]);const $=[];if(d!==V){let w=[...d];for(let p=0;p<N.length;p++){const S=N[p],z=P(S);b.includes(z)||(w.splice(p,0,S),$.push(S))}return n==="wait"&&$.length&&(w=$),U(W(w)),X(d),null}const{forceRender:K}=a.useContext(pe);return i.jsx(i.Fragment,{children:N.map(w=>{const p=P(w),S=u&&!c?!1:d===N||b.includes(p),z=()=>{if(v.has(p))v.set(p,!0);else return;let D=!0;v.forEach(Y=>{Y||(D=!1)}),D&&(K==null||K(),U(x.current),u&&(h==null||h()),r&&r())};return i.jsx(ve,{isPresent:S,initial:!y.current||t?void 0:!1,custom:e,presenceAffectsLayout:o,mode:n,root:m,onExitComplete:S?void 0:z,anchorX:g,children:w},p)})})},Ce="/assets/bglogin-DH0YPNZz.webp",je="/assets/logotemis-CkrUdwzL.svg",Ee=async s=>new Promise((e,t)=>setTimeout(()=>{const r=s.get("username"),o=s.get("password");r==="test@temis.com"&&o==="password123"?e({token:"MOCK_TOKEN"}):t(new Error("Credenciales incorrectas"))},1e3)),Me=le({email:H().email("Correo inválido").nonempty("Requerido"),password:H().min(8,"Mínimo 8 caracteres").nonempty("Requerido")});function Ne(){const s=oe(),e=xe({mutationFn:Ee,onSuccess:c=>{localStorage.setItem("token",c.token),s({to:"/dashboard"})}}),{register:t,handleSubmit:r,formState:{errors:o},setError:n,clearErrors:u}=ne({resolver:ae(Me),mode:"onTouched"}),g=c=>{u();const h=new FormData;h.set("username",c.email),h.set("password",c.password),e.mutate(h,{onError:d=>{n("password",{message:d.message})}})},m=e.status==="pending";return i.jsxs(L.form,{onSubmit:r(g),initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"relative max-w-[460px] min-h-[765px] rounded-2xl overflow-hidden shadow-2xl bg-white text-[var(--primary-color)] font-[var(--font-sans)] ml-12",role:"form","aria-labelledby":"login-title","aria-describedby":"login-description","aria-busy":m,"aria-disabled":m,children:[i.jsx("div",{className:"bg-gradient-to-r from-[var(--primary-color)] to-gray-900 px-14 py-6 flex justify-center items-center rounded-t-2xl",children:i.jsx("img",{src:je,alt:"LogoTemis",className:"h-28 w-auto"})}),i.jsxs("div",{className:"pt-12 p-8",children:[i.jsx("h2",{id:"login-title",className:"text-4xl text-center mb-4 font-[var(--font-serif)]",children:"Bienvenido"}),i.jsx("p",{id:"login-description",className:"text-center text-gray-600 mb-10 text-base",children:"Por favor, introduzca su información para iniciar sesión..."}),i.jsxs("div",{className:"space-y-9",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm mb-3 text-gray-700 font-medium",children:"Correo"}),i.jsx("input",{id:"email",type:"email",placeholder:"Ingrese su correo...","aria-invalid":o.email?"true":"false","aria-describedby":o.email?"email-error":void 0,...t("email"),className:`w-full px-5 py-4 border-b-2 rounded-t-md focus:outline-none focus:ring-0 focus:border-[var(--primary-color)] text-lg transition-colors duration-300 placeholder:text-gray-400 ${o.email?"border-[var(--warning-color)] placeholder:text-[var(--warning-color)]":"border-gray-300"}`}),i.jsx(B,{children:o.email&&i.jsx(L.p,{id:"email-error",className:"text-sm text-[var(--warning-color)] mt-2",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"alert",children:o.email.message})})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm mb-3 text-gray-700 font-medium",children:"Contraseña"}),i.jsx("input",{id:"password",type:"password",placeholder:"********","aria-invalid":o.password?"true":"false","aria-describedby":o.password?"password-error":void 0,...t("password"),className:`w-full px-5 py-4 border-b-2 rounded-b-md focus:outline-none focus:ring-0 focus:border-[var(--primary-color)] text-lg transition-colors duration-300 placeholder:text-gray-400 ${o.password?"border-[var(--warning-color)] placeholder:text-[var(--warning-color)]":"border-gray-300"}`}),i.jsx(B,{children:o.password&&i.jsx(L.p,{id:"password-error",className:"text-sm text-[var(--warning-color)] mt-2",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"alert",children:o.password.message})})]}),i.jsx(B,{children:e.isError&&!o.password&&i.jsx(L.div,{className:"text-sm text-[var(--warning-color)] text-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"alert","aria-live":"assertive",children:e.error.message})}),i.jsx("button",{type:"submit",disabled:m,className:"w-full py-4 rounded-xl font-semibold bg-[var(--primary-color)] text-[var(--secondary-color)] shadow-lg transition-transform duration-300 transform hover:scale-[1.04] hover:shadow-xl hover:bg-[var(--primary-color)]/90 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-4 focus:ring-[var(--primary-color)] focus:ring-opacity-50",children:m?"Iniciando...":"Iniciar sesión"})]}),i.jsxs("p",{className:"text-center text-sm text-gray-600 mt-10",children:["¿Aún no tienes una cuenta?"," ",i.jsx(ie,{to:"/signup",className:"text-[var(--links-color)] font-medium hover:underline focus:outline-none focus:ring-2 focus:ring-[var(--links-color)] focus:ring-opacity-50",children:"Regístrate"})]})]})]})}const Pe=function(){return i.jsxs("div",{className:"w-screen h-screen flex items-center justify-end pr-32 bg-cover bg-no-repeat bg-right",style:{backgroundImage:`url(${Ce})`,backgroundColor:"var(--primary-color)"},children:[i.jsx(fe,{}),i.jsx(Ne,{})]})};export{Pe as component};
