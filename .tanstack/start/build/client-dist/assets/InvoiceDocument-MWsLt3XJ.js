import{j as t}from"./main-6B-1zRlq.js";import{D as y,a as p,S as b,T as o,V as c}from"./InvoiceTable-DgeaaPmp.js";import"./tslib.es6-CTYbIaVE.js";import"./proxy-CopQ_BEO.js";import"./triangle-alert-CjUuXTFV.js";import"./ellipsis-vertical-D7Zv2dPq.js";import"./eye-D2R0BxUW.js";const e=b.create({page:{padding:40,fontSize:12,fontFamily:"Helvetica",backgroundColor:"#fff",color:"#1a1a1a"},header:{fontSize:28,fontWeight:"bold",textAlign:"center",marginBottom:32,color:"#003366",letterSpacing:1},section:{marginBottom:24,padding:20,backgroundColor:"#f9f9f9",borderRadius:8,border:"1pt solid #ddd"},infoText:{marginBottom:8,fontSize:12,lineHeight:1.5,color:"#333"},label:{fontWeight:"bold",color:"#003366"},itemHeaderRow:{flexDirection:"row",justifyContent:"space-between",borderBottomWidth:1,borderBottomColor:"#bbb",paddingBottom:8,marginBottom:12},itemRow:{flexDirection:"row",justifyContent:"space-between",marginBottom:10,paddingBottom:4,borderBottomWidth:.5,borderBottomColor:"#eee"},itemName:{flex:3,fontWeight:"600",color:"#222"},itemDetails:{flex:1,textAlign:"right",color:"#555",fontSize:11},totalRow:{flexDirection:"row",justifyContent:"flex-end",marginTop:32,paddingTop:12,borderTopWidth:1,borderTopColor:"#aaa"},totalLabel:{fontSize:16,fontWeight:"bold",marginRight:14,color:"#003366"},totalAmount:{fontSize:18,fontWeight:"bold",color:"#003366"},noItemsText:{fontStyle:"italic",color:"#999",textAlign:"center",marginTop:12},footer:{fontSize:10,textAlign:"center",color:"#999",marginTop:40,borderTopWidth:1,borderTopColor:"#ddd",paddingTop:8}}),u=r=>`$${r.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}`,x=r=>{const n=new Date(r);return isNaN(n.getTime())?r:n.toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"})},d=(r,n="")=>{const m=Number(r);return isNaN(m)?(console.warn(`Valor inválido para ${n}:`,r),0):m},N=({invoice:r})=>{var f;const m=(()=>{const s=d(r.amount,"invoice.amount");return s>0?s:Array.isArray(r.items)&&r.items.length>0?r.items.reduce((i,l,a)=>{const h=d(l.hours,`items[${a}].hours`),g=d(l.rate,`items[${a}].rate`);return i+h*g},0):0})();return t.jsx(y,{children:t.jsxs(p,{size:"A4",style:e.page,children:[t.jsx(o,{style:e.header,children:"Bufete García del Cid"}),t.jsxs(c,{style:e.section,children:[t.jsxs(o,{style:e.infoText,children:[t.jsx(o,{style:e.label,children:"Factura: "}),"#",r.id]}),t.jsxs(o,{style:e.infoText,children:[t.jsx(o,{style:e.label,children:"Cliente: "}),r.client||"Desconocido"]}),t.jsxs(o,{style:e.infoText,children:[t.jsx(o,{style:e.label,children:"Fecha de Emisión: "}),x(r.issueDate)]}),t.jsxs(o,{style:e.infoText,children:[t.jsx(o,{style:e.label,children:"Fecha de Vencimiento: "}),x(r.dueDate)]})]}),t.jsxs(c,{style:e.section,children:[t.jsxs(c,{style:e.itemHeaderRow,children:[t.jsx(o,{style:e.itemName,children:"Descripción"}),t.jsx(o,{style:e.itemDetails,children:"Horas x Tarifa"}),t.jsx(o,{style:e.itemDetails,children:"Subtotal"})]}),((f=r.items)==null?void 0:f.length)>0?r.items.map((s,i)=>{const l=d(s.hours,`items[${i}].hours`),a=d(s.rate,`items[${i}].rate`),h=l*a;return t.jsxs(c,{style:e.itemRow,children:[t.jsx(o,{style:e.itemName,children:s.name}),t.jsxs(o,{style:e.itemDetails,children:[l,"h x ",u(a)]}),t.jsx(o,{style:e.itemDetails,children:u(h)})]},i)}):t.jsx(o,{style:e.noItemsText,children:"No hay gastos registrados."})]}),t.jsxs(c,{style:e.totalRow,children:[t.jsx(o,{style:e.totalLabel,children:"Total:"}),t.jsx(o,{style:e.totalAmount,children:u(m)})]}),t.jsx(o,{style:e.footer,children:"Gracias por su preferencia. Para cualquier consulta, contacte con nuestro bufete."})]})})};export{N as InvoiceDocument};
