import{c as p,r as x,j as e,A as f}from"./main-6B-1zRlq.js";import{N as w,F as y}from"./UserFooter-CaLIauO6.js";import{m as N}from"./proxy-CopQ_BEO.js";import"./index-kQjY8pj6.js";import"./user-LGnTBa4E.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],D=p("chevron-left",S);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],C=p("chevron-right",M);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],T=p("plus",k);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_=p("x",E);function I({onClose:n,defaultDate:s}){const[a,l]=x.useState(""),[i,d]=x.useState(""),[c,o]=x.useState(""),[r,m]=x.useState((s==null?void 0:s.toISOString().split("T")[0])||""),u=t=>{t.preventDefault(),console.log({title:a,tags:i,description:c,date:r}),n()};return e.jsx(N.div,{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},children:e.jsxs(N.div,{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md relative",initial:{scale:.9},animate:{scale:1},children:[e.jsx("button",{className:"absolute top-3 right-3 text-gray-500",onClick:n,children:e.jsx(_,{})}),e.jsx("h2",{className:"text-lg font-bold mb-4",children:"Nuevo Evento"}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"TÃ­tulo"}),e.jsx("input",{value:a,onChange:t=>l(t.target.value),className:"w-full border rounded px-3 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Fecha"}),e.jsx("input",{type:"date",value:r,onChange:t=>m(t.target.value),className:"w-full border rounded px-3 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Etiquetas"}),e.jsx("input",{value:i,onChange:t=>d(t.target.value),placeholder:"Importante, ReuniÃ³n, Legal...",className:"w-full border rounded px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"DescripciÃ³n"}),e.jsx("textarea",{value:c,onChange:t=>o(t.target.value),rows:3,className:"w-full border rounded px-3 py-2"})]}),e.jsx("button",{type:"submit",className:"bg-blue-600 text-white w-full py-2 rounded hover:bg-blue-700",children:"Guardar Evento"})]})]})})}function F(n,s){const a=new Date(n,s,1),l=[],i=a.getDay(),d=i===0?6:i-1;for(let o=d;o>0;o--){const r=new Date(n,s,1-o);l.push({date:r,currentMonth:!1})}for(;a.getMonth()===s;)l.push({date:new Date(a),currentMonth:!0}),a.setDate(a.getDate()+1);const c=42-l.length;for(let o=0;o<c;o++){const r=new Date(n,s+1,o+1);l.push({date:r,currentMonth:!1})}return l}function L(){const n=new Date,[s,a]=x.useState(new Date(n.getFullYear(),n.getMonth())),[l,i]=x.useState(n),d=s.getMonth(),c=s.getFullYear(),o=F(c,d),r=[{id:"1",accountId:"acc_001",userId:"usr_123",title:"Audiencia Civil",date:n.toISOString().split("T")[0],tags:["Audiencia"],description:"Caso GonzÃ¡lez vs Rivera"}],m=j=>{const h=j.toISOString().split("T")[0];return r.filter(g=>g.date===h)},u=s.toLocaleString("es-ES",{month:"long"}),t=s.getFullYear(),b=()=>{a(new Date(c,d+1))},v=()=>{a(new Date(c,d-1))};return{today:n,selectedDate:l,setSelectedDate:i,calendarGrid:o,events:r,getEventsForDate:m,currentMonthName:u.charAt(0).toUpperCase()+u.slice(1),currentYear:t,goToNextMonth:b,goToPreviousMonth:v}}const A=["Dom","Lun","Mar","MiÃ©","Jue","Vie","SÃ¡b"];function O(){const{calendarGrid:n,selectedDate:s,setSelectedDate:a,getEventsForDate:l,currentMonthName:i,currentYear:d,goToNextMonth:c,goToPreviousMonth:o,today:r}=L(),[m,u]=x.useState(!1);return e.jsxs("section",{className:"max-w-6xl mx-auto px-4 py-10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Calendario"}),e.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(T,{className:"w-5 h-5"}),"Agendar Evento"]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("button",{onClick:o,className:"text-slate-600 hover:text-blue-600",children:e.jsx(D,{})}),e.jsxs("h2",{className:"text-xl font-semibold",children:[i," ",d]}),e.jsx("button",{onClick:c,className:"text-slate-600 hover:text-blue-600",children:e.jsx(C,{})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:A.map(t=>e.jsx("div",{className:"text-center font-semibold text-slate-600 bg-slate-100 py-2 rounded",children:t},t))}),e.jsx("div",{className:"rounded-xl border border-slate-300 shadow-md overflow-hidden",children:e.jsx("div",{className:"grid grid-cols-7 gap-px bg-slate-200",children:n.map(({date:t,currentMonth:b})=>{const v=t.toDateString()===r.toDateString(),j=(s==null?void 0:s.toDateString())===t.toDateString(),h=l(t);return e.jsxs(N.div,{whileHover:{scale:1.02},onClick:()=>a(t),className:`p-3 h-24 cursor-pointer text-sm transition-colors bg-white
                  ${b?"":"bg-slate-100 text-slate-400"}
                  ${v?"border-2 border-blue-500":"border"}
                  ${j?"bg-blue-100 border-blue-600":"border-slate-300"}
                `,children:[e.jsx("div",{className:"font-medium",children:t.getDate()}),h.length>0&&e.jsx("ul",{className:"mt-1 space-y-0.5",children:h.slice(0,2).map(g=>e.jsxs("li",{className:"text-[11px] text-blue-600 truncate",children:["ðŸ“Œ ",g.title]},g.id))})]},t.toISOString())})})}),m&&e.jsx(I,{onClose:()=>u(!1),defaultDate:s??void 0})]})}const P=function(){return e.jsx("div",{children:e.jsxs("div",{className:"min-h-screen flex flex-col bg-white text-slate-900",children:[e.jsx(w,{}),e.jsx("div",{className:"px-6 pt-4",children:e.jsxs("a",{href:"/dashboard",className:"inline-flex items-center text-sm text-slate-700 hover:text-slate-900 transition-colors",children:[e.jsx(f,{className:"w-4 h-4 mr-2"}),"Regresar"]})}),e.jsx("main",{className:"flex-grow",children:e.jsx(O,{})}),e.jsx(y,{})]})})};export{P as component};
